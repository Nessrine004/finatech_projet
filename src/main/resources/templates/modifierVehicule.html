<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Modifier un v√©hicule</title>
</head>
<body>
<div th:replace="fragments/nav-bar :: navbar"></div>
<h2>Modifier un v√©hicule</h2>

<form th:action="@{/modifier-vehicule}" th:object="${vehicule}" method="post" enctype="multipart/form-data">
    <input type="hidden" th:field="*{id}" />

    <label>Marque :</label>
    <input type="text" th:field="*{marque}" required/><br/>

    <label>Mod√®le :</label>
    <input type="text" th:field="*{modele}" required/><br/>

    <label>Plaque d'immatriculation :</label>
    <input type="text" th:field="*{plaqueImmatriculation}" required/><br/>

    <label>Kilom√©trage :</label>
    <input type="number" th:field="*{kilometrage}" required/><br/>

    <label>Statut :</label>
    <select th:field="*{statut}">
        <option th:each="s : ${statuts}"
                th:value="${s}"
                th:text="${s.label}">
        </option>
    </select><br/><br/>

    <label>Type de v√©hicule :</label>
    <select th:field="*{typeVehicule}">
        <option value="LEGER">L√©ger</option>
        <option value="POIDS_LOURD">Poids lourd</option>
        <option value="UTILITAIRE">Utilitaire</option>
    </select><br/>

    <label>Type de carburant :</label>
    <select th:field="*{typeCarburant}">
        <option value="ESSENCE">Essence</option>
        <option value="DIESEL">Diesel</option>
        <option value="ELECTRIQUE">√âlectrique</option>
        <option value="HYBRIDE">Hybride</option>
    </select><br/>

    <label>Date de d√©but de location :</label>
    <input type="date" th:field="*{dateDebutLocation}" /><br/>

    <label>Date de fin de location :</label>
    <input type="date" th:field="*{dateFinLocation}" /><br/>

    <!-- üîß Champs de fichiers avec les bons noms pour correspondre √† @RequestParam -->
    <label>Carte grise :</label>
    <input type="file" name="carteGriseFile" /><br/>

    <label>Assurance :</label>
    <input type="file" name="assuranceFile" /><br/>

    <label>Vignette :</label>
    <input type="file" name="vignetteFile" /><br/>

    <label>Visite technique :</label>
    <input type="file" name="visiteTechniqueFile" /><br/><br/>

    <button type="submit">Enregistrer les modifications</button>
</form>

</body>
</html>
