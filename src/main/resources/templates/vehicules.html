<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Liste des Véhicules</title>
</head>
<body>
<h2>Liste des véhicules</h2>
<!-- Message d’erreur si présent -->
<div th:if="${errorMessage}" style="color: red; font-weight: bold; margin-bottom: 15px;">
    <p th:text="${errorMessage}"></p>
</div>


<!-- Bouton pour ajouter un nouveau véhicule -->
<a th:href="@{/ajouter-vehicule}">
    <button>Ajouter un véhicule</button>
</a>

<!-- Liste des véhicules -->
<ul>
    <li th:each="v : ${vehicules}">
        <strong th:text="${v.marque + ' ' + v.modele}"></strong><br>
        Immatriculation : <span th:text="${v.plaqueImmatriculation}"></span><br>
        Kilométrage : <span th:text="${v.kilometrage} + ' km'"></span><br>
        Statut : <span th:text="${v.statut.label}"></span><br>

        <!-- Bouton Modifier -->
        <a th:href="@{'/modifier-vehicule/' + ${v.id}}">
            <button>Modifier</button>
        </a>

        <!-- Bouton Supprimer -->
        <form th:action="@{'/supprimer-vehicule/' + ${v.id}}" method="post" style="display:inline;">
            <button type="submit" onclick="return confirm('Voulez-vous vraiment supprimer ce véhicule ?')">Supprimer</button>
        </form>

        <br><br>
    </li>
</ul>
</body>
</html>
